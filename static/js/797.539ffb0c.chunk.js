"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[797],{304:function(e,t,n){var r=n(861),a=n(757),o=n.n(a),i=null,c={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZmE4YzE2NTE5Mzk1NjVmMjI4MWU1MDY0MzJjYWIwMyIsInN1YiI6IjY0NzRlZTJjOTI0Y2U2MDBkY2IyODliYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.2X4n5YSX4hGgZkP27xnajtjEfUPUoPxkoDMVouWB-ek"}},s=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("trend"===(null===t||void 0===t?void 0:t.type)&&(i="https://api.themoviedb.org/3/trending/all/day?language=en-US"),"movies"===(null===t||void 0===t?void 0:t.type)&&(i="https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=".concat(t.search)),"details"===(null===t||void 0===t?void 0:t.type)&&(i="https://api.themoviedb.org/3/movie/".concat(t.searchId,"?language=en-US")),"credits"===(null===t||void 0===t?void 0:t.type)&&(i="https://api.themoviedb.org/3/movie/".concat(t.searchId,"/credits?language=en-US")),"review"===(null===t||void 0===t?void 0:t.type)&&(i="https://api.themoviedb.org/3/movie/".concat(t.searchId,"/reviews?language=en-US&page=1")),"images"===(null===t||void 0===t?void 0:t.type)&&(i="https://api.themoviedb.org/3/movie/".concat(t.searchId,"/images")),e.prev=6,i){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,fetch(i,c);case 11:return n=e.sent,console.log("data :>> ",n),e.next=15,n.json();case 15:return r=e.sent,e.t0=console,e.next=19,r;case 19:return e.t1=e.sent,e.t0.log.call(e.t0,"response in api .json() :>> ",e.t1),e.next=23,r;case 23:return e.abrupt("return",e.sent);case 26:e.prev=26,e.t2=e.catch(6),console.log(e.t2);case 29:case"end":return e.stop()}}),e,null,[[6,26]])})));return function(t){return e.apply(this,arguments)}}();t.Z=s},306:function(e,t,n){var r=n(87),a=n(689),o=n(184);t.Z=function(e){var t=(0,a.TH)();return(0,o.jsx)("ul",{children:e.films.map((function(n){return(0,o.jsx)("li",{children:(0,o.jsx)(r.rU,{to:(a=n.id,"homepage"===(null===e||void 0===e?void 0:e.from)?"movies/".concat(a):"".concat(a)),state:t,children:n.title||n.name})},n.id);var a}))})}},797:function(e,t,n){n.r(t);var r=n(861),a=n(439),o=n(757),i=n.n(o),c=n(689),s=n(87),u=n(791),l=n(304),v=n(306),d=n(184);t.default=function(){var e,t=(0,u.useState)(!1),n=(0,a.Z)(t,2),o=n[0],p=n[1],h=(0,u.useState)([]),f=(0,a.Z)(h,2),m=f[0],g=f[1],x=(0,c.TH)(),y=(0,s.lr)(),j=(0,a.Z)(y,2),I=j[0],b=j[1],Z=null!==(e=I.get("name"))&&void 0!==e?e:"";return(0,u.useEffect)((function(){if(o||""!==Z){var e=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.Z)({type:"movies",search:Z});case 2:t=e.sent,console.log("response in details page :>> ",t),g(null===t||void 0===t?void 0:t.results),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[o,Z]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(!0)},children:[(0,d.jsx)("label",{htmlFor:"",children:(0,d.jsx)("input",{type:"text",value:Z,onChange:function(e){var t=e.target.value.toLowerCase();b(""!==t?{name:t}:{})}})}),(0,d.jsx)("button",{type:"submit",children:"Search"})]}),0!==m.length&&(0,d.jsx)(v.Z,{films:m,state:x})]})}},861:function(e,t,n){function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=797.539ffb0c.chunk.js.map